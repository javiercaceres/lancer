var lance=function(){function n(n,t){function r(n,t){function r(n,t){var r={},e=!1;for(var o in t)void 0!==n.props[o]&&n.props[o]!=i[o]&&(r[o]=i[o],e=!0);return!!e&&r}var e=t||[],i=n||{},o=this;this.balance=function(n){var t=!1;for(var o in n)i[o]&&i[o]===n[o]||(i[o]=n[o],t=!0);return t&&e.forEach(function(n){var t=r(n,i);t&&n.set(t)}),i},this.inc=function(n){if(-1==e.indexOf(n)){var t=r(n,i);e.push(n),t&&n.set(t)}else console.info("Reactor already included");return o},this.exc=function(n){return e.splice(e.indexOf(n),1),o}}return function(n,t){return new r(n,t)}(n,t)}function t(n,t,e){return function(n,e,i){return function(){function e(n,t){var r=n;for(var e in t)r=String(r).replace("{"+e+"}",t[e]);return r}function o(n,t){for(var r in n.styles)n.styles[r]=t.styles[r];if("3"==n.nodeType)n.textContent=t.textContent;else for(var e,i,s=0;(e=n.attributes[s])&&(i=t.attributes[s]);s++)for(var u in e)"string"==typeof e[u]&&e[u]!=i[u]&&(e[u]=i[u]);for(var c,f=0;c=n.childNodes[f];f++)o(c,t.childNodes[f])}function s(n){var t=$(e(h,n));return l?o(l[0],t[0]):l=t,l}function u(){l.remove(),l=null}function c(){return l}function f(){return l[0]}function a(n){for(var t in n)p.props[t]=n[t];return l&&this.render(p.props),p.props}var h=n||null,l=null,p=this,d=r,v={};if(this.listen=function(n,t){d.subscribe(n,this),!v[n]&&(v[n]=[]),v[n].push(t)},this.catch=function(n,t){v[n].forEach(function(n){n.apply(this,t)})},this.forget=function(n){delete v[n],d.unsubscribe(n,this)},h&&(this.render=s,this.get$=c,this.getHtml=f,this.remove=u,this.set=a,t&&(this.props=$.extend(!0,{},t),this.render(this.props))),i)for(var b in i)i[b].forEach(function(n){p.listen(b,n)})}}(n,0,e)}var r=function(){function n(n){i[n]=[]}function t(t,r){!i[t]&&n(t),i[t].forEach(function(n){n.catch(t,r)})}function r(t,r){!i[t]&&n(t),i[t].push(r)}function e(n,t){i[n]&&i[n].splice(i[n].indexOf(t),1)}var i={};return{addEvent:n,broadcast:t,subscribe:r,unsubscribe:e}}();return{rClass:t,r:function(n,r,e){return new(t(n,r,e))},fire:function(n,t){r.broadcast(n,t)},rs:n}}();"object"==typeof module&&"object"==typeof module.exports&&(module.exports=lance);